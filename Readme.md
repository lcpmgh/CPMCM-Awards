# 中国研究生数学建模竞赛获奖数据及可视化分析

本项目收集了2004年（第一届）至今（2025年第二十二届），中（全）国研究生数学建模竞赛获奖数据，并使用R语言进行统计分析和数据可视化。

这个项目的起因是，本人和队友在2015、2016、2017年参赛并获奖后，好奇一共有多少人连续获奖以及他们来自于哪个省份、哪个学校。于是2017年底，开始收集数据、写代码。当时正值毕业，也准备放弃MATLAB学习一门新的编程语言，认准R语言后，我开始尝试用R写这个项目，所以第一版的东西惨不忍睹。2018年9月15日，台风山竹登陆广州深圳，被迫居家办公后，我发现当日正是一年一度研究生数学建模开赛的日子，因此我决定再把这个项目重写一遍，并发布到github上。2020年初，由于新冠疫情，再一次被迫居家隔离，学习了Hadley编写的*Advanced R*一书后，我回顾自己前一年所学，开始重新审视自己的编程水平，于是决定再一次修改这个代码，并且以后每年都要来改一次，把这个项目延续下去，一是纪念当时和队友参赛的经历，二是检验自己的在过去一年的学习和进步。

关于项目的几个说明：

1. 中国研究生数学建模竞赛（原名全国研究生数学建模竞赛，<a href="https://cpipc.acge.org.cn/cw/hp/4" target="_blank">官方网址</a>），2004年开办，每年9月开赛、11月~12月公布当年获奖结果，旧网址曾经有历年获奖数据，不过目前站点无法访问了；
2. 本例收集自官方公布的最终获奖名单，大部分年份包含一等奖、二等奖、三等奖以及成功参与（参赛、参加）奖。由于参赛、提交并未被认定为作弊就能拿到成功参与奖，所以这里将获奖名单视为参赛名单，其中的一二三等奖视为获奖（部分年份未公布成功参与奖，因此这些年份无法统计参赛队伍数量和获奖率）；
3. 部分年份未公布获奖者选择的题型，因此定义这些年份的题型全部为N；
4. 对于个人“连续获奖”这个概念，每个版本可能有不同算法，但基本原则是：
   - 鉴于信息有限，只考虑同名、同学校在连续年份的获奖情况为“连续获奖”，即忽略“山大张三在2005年获奖后转学到中大并于2006年获奖”
   - 鉴于信息有限，不区分同名不同人、但同校名的获奖情况，即将“山大张三于2005年获奖然后另一个也叫张三的山大学生于2006年获奖”，视为连续2次获奖 
   - 如果张三于2005年获奖，并于2007、2008年获奖，则将其视为两次连续获奖，第一次为1连，第二次为2连。注意第二次中，2007年为1连、2008年为2连，此做法为了精确统计某一年或某年段中，确定连续次数的连续获奖人数
5. 其他详细说明见每个版本内的README文件

研究生三年的数模比赛经历，有惊喜也有遗憾，非常感谢我的队友。本人R语言水平有限，出于爱好创建并维护这个项目，因此仅限学习使用，切勿用于营利或其他违法目的。同时，也欢迎提出问题、讨论和交流。

最后，希望这个项目对你有所帮助。

---

### shinyapp预览（已部署至云端：<a href="http://lcpmgh.com/cpmcm-awards" target="_blank">CPMCM-Awards</a>）



![shiny_app_preview](./v8.0/shiny_app_preview.gif)

---

### 更新日志：

### 2025-12-30 v8.0

1. **更名项目**：仓库名改为“CPMCM-Awards”，使其与赛事本身进行区分。
2. **更新数据**：获奖数据更新到2025年第二十二届。
3. **丰富shinyapp**：app中添加了历年试题页面，数据保存于OtherFiles目录和v8.0/shiny_app/data目录下的`0-questions_archive.csv`文件。
4. **优化数据处理过程**：小修，添加了几个查询验证函数，以保证中间数据的准确性。
5. **优化获奖单位信息**。获奖名单中记录的单位信息非常复杂，严重影响统计结果，此前版本数据处理过程中虽有单位名称归一化步骤（见data_processing.r文件第三部分），但仅是在查询单位所在地时顺便识别，极为粗略。本次更新过程中，对单位信息做了更为详细识别和优化，具体内容包括：
   + **单位名称的修改原则**：以获奖名单中的培养单位名称为最高优先级，除非必要，不作修改。即便修改，也不在原获奖名单上进行，而是仅作为数据处理过程，影响shiny_app/data文件夹中的，非0前缀csv中储存的，用于可视化的数据。
   + **修改单位名称的目的**：统一不同时期的参赛者的单位信息，因此对于已经更名、重组的单位，仅保留其最新的名字，舍弃旧名。此外，保留下的名字并不一定是该单位的官方对外名称、全称、正式简称等，仅是本项目为了方便、整洁、一致、易于识别，为相同单位确定唯一的称呼。
   + **单位名称需要修改的情形**：包括名称错误（如将“陕西科技非常丰富”，根据其队友信息更正为“陕西科技大学”）、冗余信息（如将“北京师范大学(跨校)”更正为“北京师范大学”）、单位简称（如将“中国科技大学”更正为“中国科学技术大学”）、学校院系（如将“中北大学研究生院”更正为“中北大学”）、单位更名（如将“吉林化工学院”更正为“吉林化工大学”）、同单位不同名（如将“半导体所”和“中科院半导体研究所”统一为“中国科学院半导体研究所”）等。
   + **单位的层级归属和归一化问题**：
     + 对于高校，并不单独区分院系（如将“湖北大学数计学院”修改为“湖北大学”）。
     + 对于同一学校的不同校区，若无标记则默认为本部，若有标记则单独区分（如将“华北电力大学(北京)”更正为“华北电力大学”，将“华北电力大学（保定）”更正为“华北电力大学(保定)”）。
     + 对于参赛者标记的独立性较强的院系，尤其是与本部不在同一城市的，不将其归于上级单位（如“中国人民解放军国防科技大学电子对抗学院”，不将其修改为位于长沙的国防科大本部，而修改为位于合肥的“中国人民解放军国防科技大学(电子对抗学院)”）。
     + 对于科研机构，一般不归于上级单位，而精确到所（如“中国科学院软件研究所”，并不会修改为国科大或中科院）。
     + 对于信息较少的单位，根据公开信息推测其下属单位所在地（如“军事经济学院”，地处武汉市，2017年被合并为陆军勤务学院，2025年又参与组建成联勤保障部队工程大学，经查该学校有武汉校区，因此修改结果为“中国人民解放军联勤保障部队工程大学(武汉校区)”）。
     + 为了简洁，对于大型组织机构的、存在公开的代号下属单位，采用上级单位加下级代号的方式进行单位名归一化（如用“中国航空工业集团有限公司(618所)”，代指该公司旗下的西安飞行自动控制研究所），使用下属单位代号的，具体名称全部记录于新创建的`unit_group.xlsx`文件。
     + 无公认代号、全名不长或下属单位较少的，具体单位也会用全名，甚至不包括上级单位（如“北京系统工程研究所”，其上级单位是北京市科学技术研究院，目前没有加入上级名进行区分）。
   + **单位名的正确性问题**：正如如上所说，本项目的原则是不轻易修改获奖名单中记录的单位信息，因为这是参赛者身份认同的关键，一般很少会出错。因此：
     + 只修正可识别的明显错误。例如，历年记录中只有一条为“中国航天科技集团公司第二研究院（第二总体设计部）”，但经查至今航天科技都没有第二研究院，判断应为航天科工集团，因此修改为“中国航天科工集团有限公司第二研究院(第二总体设计部)”。
     + 对于多条被认为是“错误”的记录，仍会被保留。例如，自2018-2025年，有多达41条记录为“中国航天科工集团有限公司第二研究院(710所)”，虽然据我查询，2003年710所就已经合并成为航天科技的第十二研究院了，但仍未修改这些记录，仅将2016年出现的8条名为“北京信息控制研究所(航天710所)”的记录，修改为“中国航天科技集团有限公司第十二研究院(710所)”。
6. **收集单位隶属信息**：收集了一些大型国企、集团、军事院校的隶属关系和所在城市信息，目的是便于培养单位归一化，储存在OtherFiles目录下的`unit_group.xlsx`中。注意：
   + **文件中收集的单位信息并不保证完整、准确、及时**：由于下属单位众多、复杂、信息公开度低、建制频繁更改，因此这里仅力所能及地收集了部分信息，且重点关注的是可招收研究生的单位的所在地信息。对于历史名称变更频繁的，大多仅收集与本项目相关的资料，即2000年之后的曾用名。部分空缺将于此后，其单位有研究生参赛时更新。
   + **版权和涉密问题**：**文件内容全部收集自互联网公开信息，且仅作为本项目培养单位名称规范和定位（精确到地级市），不可用于其他用途，否则后果自负！**

### 2025-02-06 v7.0

1. **更新数据**：获奖数据更新到2024年第二十一届。
1. **数据问题**：
   + 2024年起，新增了国际赛道题目，目前仅两条数据，因此所有统计信息中，都没有考虑此类题型（题型为H、G，见2024.csv最后两行）。
   + 目前已在3-unit_info_dataset.csv中添加了所有培养单位的所在的国家级、省级、地级信息，然而由于渲染地图非常耗时，因此并没有进一步分析、展示数据在地级行政区划上的分布信息，后续版本再去考虑。
   + 添加了历年比赛题目数据，见`0-questions_archive.csv`，位于OtherFiles目录下。目前仅收集了赛题名，后续将对题目与获奖数据进行关联分析（具体赛题体量达GB级别，而且赛题发布后官方还会通过多种途径补充、更正、解读等，本项目没有收集这些内容，如需查看请参见[数学建模网](https://www.shumo.com/wiki/doku.php?id=start)）。
   + 精简文件夹结构，将最新版本的文件夹放置至根目录下，其余旧版统一放于"Previous versions"文件夹。
1. **更换、精简R包**：
   + 用`echarty`包替换`ECharts2Shiny`包：后者可调参数少、版本旧、与绘制交互地图的`REmap`等包冲突。
   + 用`echarty`包替换`ggplot2`包：后者静态图并不适合shinyapp。
   + 用`echarty`包替换`REmap`包：后者很久没更新，现在画地图有bug。
1. **更换页面顺序**：最早版本将队伍信息放在第一页，然而由于`REmap`与`ECharts2Shiny`冲突，因此将获奖名单改为了第一页，如今两个包都被替换，冲突问题得以解决，因此恢复了更为适合的页面顺序。
1. **更改图类型**：第一页中的获奖概率、获奖数量（按体型）和获奖数量（按奖项）三个图改为折线堆叠图，并且在其中添加了一个折线图层，用于标记总和。
1. **更改页面内容**：将原第三页（现第二页）标题名改为”按培养单位“，并且添加了一个折线图，用以显示某特定培养单位历年获奖情况。
1. **其他细节**：优化了页面整体siderbar和mian的布局效果。
1. **注意**：第二、三页的中国省级区划地图下载自[GeoJSON](https://geojson.cn/data/atlas/china)，为提高其在app中的渲染速度和美观性，使用[在线网站](https://mapshaper.org/)以及本地程序优化，精简了多边形（除澳门和十段线以外，因为这些区域在优化过程中容易被完全删除）、将南海诸岛图移动至左下、更改了部分省份label的出现位置（即json中的cp属性，最终修改结果见`./v7.0/shiny_app/data/0-china_province_simplified.json`）。因此，该地图仅作为本app数据分布的示意图，不附带作者的任何政治立场，其json数据也仅供本app使用，**特此声明**。

### 2024-03-06 v6.0

1. **更新数据**：获奖数据更新到2023年第二十届。
2. **添加图**：第二页，添加参与队伍数量折线图。

### 2023-01-24 v5.0

1. **更新数据**：获奖数据更新到2022年第十九届。

### 2022-02-01 v4.0

1. **更新工具和数据**：使用Centos7.9.2009平台编程，其中R语言版本为v4.1.2，Rstudio Server版本为2021.09.2 Build 382，Shiny Server版本为v1.5.17.973，所有涉及到的packages在使用前都已于2022年01月升级到最新版本。获奖数据更新到2021年第十八届。
2. **更改关键R包**：可视化程序中，使用REmap包代替之前版本中的rgdal包，进行获奖数据省域分布图的绘制，相比之下REmap绘制的地图有以下优点，1不再需要处理shap数据从而提高效率，2动态化地图更易于交互界面查看。
3. **更改数据中省份名称**：由于改用REmap包，由原来rgdal使用的省份长名（如“北京市”），转变为REmap包使用的省份短名（如“北京”），因此将数据1-unit_info_internet.csv和3-unit_info_dataset.csv中的省份名称改为短名，同样的，数据处理结果中，相应文件中的省份名称也转变为短名。
4. **更改可视化程序中的页面布局顺序**：编写shinyapp过程中发现，REmap包显示地图，与其他控件不兼容（推测），表现为若先点击REmap地图所在页面，则其他页面的部分控件（包括shinyWidgets控件、DT表格、reactable表格）将无法显示，此bug我暂时无法解决。权宜之计，改变之前版本的页面布局顺序，将之DT包展示的获奖数据库页面，调整为可视化程序的首页。
5. **更改可视化程序的代码结构**：简化shinyapp中的UI函数，改用uiOutput和renderUI，优点是可以根据数据内容生成控件参数值，避免每次更新数据后都要修改控件（例如UI中年份选择范围）；另外，按UI的tablepanels页面（而不是之前版本中的按数据和模块）组织代码，尽量做到将renderUI和对应数据、output函数放在一起，便于维护。
6. **部署shinyapp至云服务器**：此项目的shinyapp已部署在云服务器上，欢迎访问[CPMCM-Awards](http://lcpmgh.com/cpmcm-awards)。
7. **其他细节**：在data_processing.R中补充说明了仅更新获奖数据时的执行步骤；在shiyapp中调整了队伍页面的展示图，改为获奖率、获奖数量和获奖构成相关的五个图；修改了shinyapp中的其他一些细节问题；修改了data文件夹中readme文件，添加了对该文件夹中的数据的说明。

### 2021-05-01 v3.0

1. 更新工具和数据：R语言版本为v4.0.5，Rstudio版本为1.4.1106，所有涉及到的packages在使用前都已于2021年04月26日升级到最新版本。获奖数据更新到2020年第十七届；
2. 优化代码：将数据处理部分的代码整理到一个文件中，修改了相关函数名和变量名；
3. 优化文件（夹）名：规范了文件和文件夹的名称，在文件名中区分了读取或是生成顺序，便于查找和识别。
4. 优化文件存储路径：将获奖名单的原始数据保存在根目录下的文件夹中，今后每个版本都在此读取原始文件，将中间过程所需或所产生的数据文件保存在./shiny_app/data中，便于可视化；
5. 修复问题：进一步完善了获奖名单中，培养单位名称不统一问题，即进一步更新了0-unit_name_convert.csv文件；
6. 添加可视化图表：在shiny的第一页中添加了“获奖率年际变化“图和”获奖题型构成比例年际变化“图，其中，部分年份获奖名单中没有出现成功参与奖，则此年度获奖率空缺，此外，为避避免歧义，修改了可视化中图表的标题、图例、坐标轴名称等部分文字描述；
7. 其他：由于此版本强制规定读取和保存的csv文件为UTF-8编码，导致在我的电脑上，shiny部分第四页的获奖信息查询系统不能正常使用了，猜想是由于windows中Rstudio打开的shinyui为GB2312，在此部分查找信息时的输入文字为GB2312，与底层数据编码矛盾导致的。然而，虽然强制规定了编码，但还是由于编码问题，此shinyapp并不能上传到shinyapps.io。

### 2020-03-14 v2.0

1. 数据更新到最近的2019年；
2. 规范、明确了整个数据处理流程，并试图兼容以后的数据更新（但是shinyui部分还做不到，现在那里的代码必须写成年份的确切数字，还没想到如何根据获奖数据自行生成）；
3. 添加了对获奖数据中，同一培养单位名称不统一的处理工作（由于这里需要人工建立名字的识别替换数据集，所以只能尽力统计，难免有遗漏）；
4. 优化代码运行效率，尽量避免循环语句和代码重复；
5. 重新设计了求连续获奖年份的算法，其核心是data.table包的分而治之方法和采用差分算法的自编函数find_series，具体内容见代码文件./v2.0/3_create_award_team_member.r；
6. 除爬虫收集的原始数据和地图数据外，所有csv文件改用GB2312编码，以避免本地运行时出现乱码；
7. 之前的代码和数据被放在v1.0文件夹中，但原始代码没有改动，修改文件夹路径会造成运行不了的情况；
8. 一些小问题，比如2013年有一位队员只有名字没有培养单位名，已经按队友的信息进行补全，且由于全数据中只有一个，所以没做代码上的识别判断，直接在原数据上修改了。

### 2018-09-19 v1.0

1. 项目第一次修改，更新说明见./v1.0/READ_v1.0.md

### 2018-01-01 v0.5

1. 项目创建

